## 팀원

[양성호 , 김영길 ]

## 배포 주소

## <a href="https://project-worldcup.netlify.app/">배포 사이트</a>

## 💻 설치 방법

    npm install
    npm start:dev

## 📂 파일 구조

src  
 ┣ components  
 ┃ ┣ GoogleLoginBtn.tsx  
 ┃ ┣ Header.tsx  
 ┃ ┣ Loading.tsx  
 ┃ ┣ Modal.tsx  
 ┃ ┗ WorldCupList.tsx  
 ┣ constants  
 ┃ ┗ contants.ts  
 ┣ pages  
 ┃ ┣ home  
 ┃ ┃ ┗ Home.tsx  
 ┃ ┣ makeWorldCup  
 ┃ ┃ ┗ MakeWorldCup.tsx  
 ┃ ┣ myPage  
 ┃ ┃ ┗ MyPage.tsx  
 ┃ ┣ ranking  
 ┃ ┃ ┗ Ranking.tsx  
 ┃ ┣ result  
 ┃ ┃ ┣ components  
 ┃ ┃ ┃ ┣ Comment.tsx  
 ┃ ┃ ┃ ┗ CommentForm.tsx  
 ┃ ┃ ┗ Result.tsx  
 ┃ ┗ worldCup  
 ┃ ┃ ┗ WorldCup.tsx  
 ┣ router  
 ┃ ┗ Router.tsx  
 ┣ styles  
 ┃ ┣ globalStyle.ts  
 ┃ ┣ index.ts  
 ┃ ┣ styled.d.ts  
 ┃ ┗ theme.ts  
 ┣ utils

## 프로젝트 소개

---

### 월드컵 프로젝트 소개

---

월드컵 사이트는 하나의 주제에 16개의 항목이 존재하고 16강부터 결승 까지 두개의 항목을 나열 한 뒤 사용자가 선택한 요소가 상위 라운드로 진출 하는 시스템 입니다.

월드컵 참여를 완료하거나 랭킹 보기를 눌렀을 때 사용자들이 선택한 요소들을 집계한 통계 페이지 이동합니다. 각 항목의 우승비율, 라운등 승률을 오름차순, 내림차순으로 정렬이 가능하며 댓글 창을 통해 해당 통계에 대한 사용자들의 생각을 볼 수도 있습니다.

로그인 기능도 구현되어 있으며 로그인 된 유저일 시 댓글 입력 , 월드컵 생성 , 마이페이지에서 자신이 생성한 월드컵 삭제 등의 기능 또한 제공 됩니다.

모바일과 태블릿 사용자들 또한 있을거라 생각하여 미디어 쿼리를 사용한 반응형 화면을 구현 했습니다.

### 프로젝트 기간

> 약 1주일

---

### 프로젝트 팀원

> 프론트엔드 개발자 2명

---

## 초기 기획 단계

---

### 피그마를 사용한 UI 설계

단순하게 레이아웃만 설계를 하고 시작한 이유는 레이아웃으로 보여주는 방식에 따라 구현 해야하는 로직이 달라질 수 있다고 생각되어 현업에서 많이 쓰이는 피그마를 사용하여 세세하게 디자인 적인 요소는 제외하고 러프한 틀을 잡아놓고 시작하게 되었습니다.
![](https://images.velog.io/images/yshh0514/post/b9e892f4-593a-459f-8c07-8037d0adc6dc/%E1%84%8E%E1%85%A9%E1%84%80%E1%85%B5%20UI%20%E1%84%89%E1%85%A5%E1%86%AF%E1%84%80%E1%85%A8.png)

> 모바일 화면은 초기 단계에서 설계 하지 않고 먼저 데스크톱 사이트를 기본으로 구현하고 사용자에게 적합한 모바일 화면을 미디어 쿼리를 사용하여 구현 했습니다.

---

### 트렐로를 사용한 역할 분담

### <a href="https://trello.com/b/ULP0qCKQ/projectworldcup">트렐로 링크</a>

서로 작업을 무엇을 하고 있는 지와 전체 목표에 어디까지 왔는지 알 수 있게 트렐로를 이용하였습니다. 트렐로를 덕분에 서로 작업하는 부분이 겹치지 않게 추가로 소통하며 진행할 수 있었습니다.

<img src="https://user-images.githubusercontent.com/80146176/158175714-1dc72b0d-278c-47b3-ad2f-a9ef3ba4e26b.png" alt="trello"/>

## 페이지 별 기능

### 월드컵 페이지

---

**라운드 별 두개의 항목 배치**

- index state값을 생성하여

### 월드컵 우승자 모달

### 랭킹 페이지

### 홈 페이지

### 월드컵 생성 페이지

- 16개의 입력창에 원하는 월드컵 값을 각각 입력을 하여 월드컵을 생성할 수 있습니다.
- 필수 입력값, 최대 글자수를 넘었을 때 에러 메세지가 각 입력창 아래에 표시됩니다.

### 마이 페이지

- 내가 만든 월드컵을 볼 수 있으며 삭제 기능이 있습니다.
- 내가 만든 월드컵 데이터가 없을 시 데이터가 없다고 표시합니다.

### 헤더

- 로그인 여부에 따라 표시되는 콘텐츠를 다르게 하였습니다.
- 모바일 환경일 때 헤더 메뉴를 눌러 펼칠 수 있게 하였습니다.

### 댓글

- 랭킹보기 페이지에서 댓글을 입력할 수 있습니다.
- 비로그인 시 로그인하여 댓글을 입력해주세요 라고 표시하였습니다.
- 로그인 시 댓글을 입력 할 수 있고 자신이 작성한 댓글에는 삭제 기능을 표시했습니다.
- 댓글이 작성된 시간을 Now,몇 분전,몇 시간전 ,몇월 몇일 그리고 연도가 바뀌었을 경우 연도가 표시되도록 하였습니다.

## 로그인

- 구글 아이디로 로그인이 가능하며 로그인하였을 때 구글 아이디의 정보를 이용합니다.

## 프로젝트를 진행하며 맞닥뜨린 어려움들

## 생성

- 16개의 input 창의 값들을 받아 axios로 json-server에 보냈어야 했는데 16개의 state값,onChange과 같이 너무 많은 코드가 필요하여서 react hook form을 이용하여 코드양을 줄였습니다.
- REST API 설계 시 어떤 데이터 구조가 필요하고 뭐가 필요한 지 많은 회의가 필요했습니다.

## 삭제

- 월드컵 삭제는 axios의 delete로 쉽게 삭제가 가능하였으나 댓글 삭제의 경우 기존의 월드컵 데이터 안에서 comments의 배열만 수정하는 것이기에 axios의 put을 이용해야 했고 기존의 데이터를 스프레드 문법을 이용하여 댓글 부분만 삭제하고자 하는 댓글을 없앤 배열로 수정하여서 put을 하였습니다.

## 반응형 화면

- 헤더 부분에서 로그인 하지 않았을 때와 로그인 되었을 때 표시되는 것을 pc화면과 모바일 화면에서 다르게 배치하였는 데 조건문과 미디어쿼리를 이용하여 모든 것을 잘 작동시켰던 것이 어려웠습니다.

## 월드컵 애니메이션

- 승리 시 가운데로 오고 패배 시 사라지는 애니메이션을 구현하였을 때 각각 애니메이션이 다르게 표시되도록 state값을 "left" , "default" , "right" 로 설정하여 이긴 값이 무엇이냐에 따라 다르게 애니메이션이 나오도록 하였습니다. 특히 가운데로 오는 애니메이션이 어려웠었는데 반응형으로 기준이 되는 화면마다 고정픽셀로 width 값을 설정하여서 해결했습니다.
